# UI共通仕様書

## 目次

- [概要](#概要)
- [デザインシステム](#デザインシステム)
  - [カラーパレット](#カラーパレット)
  - [タイポグラフィ](#タイポグラフィ)
  - [スペーシング](#スペーシング)
  - [ブレイクポイント](#ブレイクポイント)
- [共通UIコンポーネント](#共通uiコンポーネント)
  - [ボタン](#ボタン)
  - [フォーム要素](#フォーム要素)
  - [モーダル・ダイアログ](#モーダルダイアログ)
  - [通知・アラート](#通知アラート)
  - [テーブル](#テーブル)
  - [ページネーション](#ページネーション)
- [レイアウトパターン](#レイアウトパターン)
  - [基本レイアウト](#基本レイアウト)
  - [ヘッダー](#ヘッダー)
  - [サイドバー](#サイドバー)
  - [フッター](#フッター)
- [インタラクション](#インタラクション)
  - [マウスインタラクション](#マウスインタラクション)
  - [キーボード操作](#キーボード操作)
  - [タッチ操作](#タッチ操作)
- [バリデーション](#バリデーション)
  - [バリデーションルール](#バリデーションルール)
  - [エラー表示](#エラー表示)
  - [成功表示](#成功表示)
- [アクセシビリティ](#アクセシビリティ)
  - [WAI-ARIA](#wai-aria)
  - [キーボードナビゲーション](#キーボードナビゲーション)
  - [スクリーンリーダー対応](#スクリーンリーダー対応)
- [パフォーマンス](#パフォーマンス)
- [多言語対応](#多言語対応)

---

## 概要

この文書は、システム全体で統一されたユーザーインターフェースを実現するための共通仕様を定義します。

**対象:**
- すべての画面・機能のUI実装
- フロントエンド開発者
- UIデザイナー

**目的:**
- 一貫性のあるユーザー体験の提供
- 開発効率の向上
- メンテナンス性の向上

---

## デザインシステム

### カラーパレット

#### プライマリカラー
| 色名 | HEX値 | RGB | 用途 |
|------|-------|-----|------|
| Primary | #007BFF | rgb(0, 123, 255) | メインアクション、リンク |
| Primary Light | #66B2FF | rgb(102, 178, 255) | ホバー状態 |
| Primary Dark | #0056B3 | rgb(0, 86, 179) | アクティブ状態 |

#### セカンダリカラー
| 色名 | HEX値 | RGB | 用途 |
|------|-------|-----|------|
| Secondary | #6C757D | rgb(108, 117, 125) | サブアクション |
| Secondary Light | #ADB5BD | rgb(173, 181, 189) | 非活性状態 |
| Secondary Dark | #495057 | rgb(73, 80, 87) | 強調表示 |

#### システムカラー
| 色名 | HEX値 | RGB | 用途 |
|------|-------|-----|------|
| Success | #28A745 | rgb(40, 167, 69) | 成功メッセージ |
| Warning | #FFC107 | rgb(255, 193, 7) | 警告メッセージ |
| Danger | #DC3545 | rgb(220, 53, 69) | エラー、削除 |
| Info | #17A2B8 | rgb(23, 162, 184) | 情報メッセージ |

#### グレースケール
| 色名 | HEX値 | RGB | 用途 |
|------|-------|-----|------|
| Gray-900 | #212529 | rgb(33, 37, 41) | 本文テキスト |
| Gray-700 | #495057 | rgb(73, 80, 87) | サブテキスト |
| Gray-500 | #ADB5BD | rgb(173, 181, 189) | プレースホルダー |
| Gray-300 | #DEE2E6 | rgb(222, 226, 230) | ボーダー |
| Gray-100 | #F8F9FA | rgb(248, 249, 250) | 背景色 |

### タイポグラフィ

#### フォントファミリー
```css
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans JP", sans-serif;
```

#### フォントサイズ
| 分類 | サイズ | 行間 | 用途 |
|------|--------|------|------|
| h1 | 32px | 1.2 | ページタイトル |
| h2 | 24px | 1.3 | セクションタイトル |
| h3 | 20px | 1.4 | サブセクション |
| h4 | 18px | 1.4 | カードタイトル |
| body | 14px | 1.5 | 本文 |
| small | 12px | 1.5 | 補足情報 |

#### フォントウェイト
- Regular: 400（通常テキスト）
- Medium: 500（強調）
- Bold: 700（見出し）

### スペーシング

基本単位: 8px

| 名称 | 値 | 用途 |
|------|-----|------|
| xs | 4px | アイコンとテキストの間 |
| sm | 8px | コンポーネント内の余白 |
| md | 16px | コンポーネント間の余白 |
| lg | 24px | セクション間の余白 |
| xl | 32px | ページ内の大きな区切り |
| xxl | 48px | ページ間の余白 |

### ブレイクポイント

| デバイス | 最小幅 | 最大幅 |
|----------|--------|--------|
| Mobile | - | 767px |
| Tablet | 768px | 1023px |
| Desktop | 1024px | 1439px |
| Wide | 1440px | - |

---

## 共通UIコンポーネント

### ボタン

#### ボタンタイプ
| タイプ | 用途 | スタイル |
|--------|------|----------|
| Primary | 主要なアクション | 背景: Primary, 文字: 白 |
| Secondary | 補助的なアクション | 背景: 白, ボーダー: Gray-300 |
| Danger | 削除などの破壊的アクション | 背景: Danger, 文字: 白 |
| Text | リンク的なアクション | 背景: 透明, 文字: Primary |

#### ボタンサイズ
| サイズ | 高さ | パディング | フォントサイズ |
|--------|------|------------|---------------|
| Large | 48px | 16px 24px | 16px |
| Medium | 40px | 12px 20px | 14px |
| Small | 32px | 8px 16px | 12px |

#### ボタン状態
- **通常**: 定義された色
- **ホバー**: 明度を10%上げる
- **アクティブ**: 明度を10%下げる
- **無効**: 不透明度50%
- **ローディング**: スピナーアイコン表示

### フォーム要素

#### テキスト入力
```
高さ: 40px
パディング: 12px
ボーダー: 1px solid Gray-300
ボーダー半径: 4px
フォントサイズ: 14px
```

#### 入力状態
- **通常**: ボーダー Gray-300
- **フォーカス**: ボーダー Primary, シャドウ付き
- **エラー**: ボーダー Danger
- **無効**: 背景 Gray-100, カーソル not-allowed

#### チェックボックス・ラジオボタン
```
サイズ: 20px × 20px
ボーダー: 2px solid Gray-500
選択時: 背景 Primary
```

#### セレクトボックス
```
高さ: 40px
矢印アイコン: 右端に配置
ドロップダウン: 最大高さ 200px、スクロール可能
```

### モーダル・ダイアログ

#### モーダル構造
```
オーバーレイ: 背景 rgba(0,0,0,0.5)
コンテンツ:
  - 幅: 最大 600px
  - パディング: 24px
  - 背景: 白
  - ボーダー半径: 8px
```

#### モーダルヘッダー
```
タイトル: h3サイズ
閉じるボタン: 右上に配置（×アイコン）
ボーダー: 下部に Gray-300
```

### 通知・アラート

#### アラートタイプ
| タイプ | 背景色 | アイコン | 用途 |
|--------|---------|----------|------|
| Success | Success (10%透明度) | ✓ | 成功メッセージ |
| Warning | Warning (10%透明度) | ⚠ | 警告メッセージ |
| Error | Danger (10%透明度) | × | エラーメッセージ |
| Info | Info (10%透明度) | ⓘ | 情報メッセージ |

#### トースト通知
```
位置: 画面右上
幅: 最大 400px
自動消去: 5秒後（エラーは除く）
アニメーション: スライドイン
```

### テーブル

#### テーブル基本スタイル
```
ヘッダー:
  - 背景: Gray-100
  - フォントウェイト: 500
  - パディング: 12px

セル:
  - ボーダー: 1px solid Gray-300
  - パディング: 12px
  - 垂直配置: middle

行ホバー:
  - 背景: Gray-100 (5%透明度)
```

#### ソート可能列
```
ソートアイコン: ▲▼
アクティブソート: Primary色
```

### ページネーション

#### ページネーション構造
```
前へ | 1 2 3 ... 10 | 次へ

ボタン:
  - サイズ: 32px × 32px
  - マージン: 4px
  - 現在ページ: 背景 Primary
  - その他: ボーダー Gray-300
```

---

## レイアウトパターン

### 基本レイアウト

```
┌─────────────────────────────────┐
│         ヘッダー (60px)          │
├────────┬────────────────────────┤
│        │                        │
│ サイド │     メインコンテンツ      │
│ バー   │                        │
│ (240px)│                        │
│        │                        │
├────────┴────────────────────────┤
│         フッター (40px)          │
└─────────────────────────────────┘
```

### ヘッダー

**要素構成:**
- ロゴ（左端）
- グローバルナビゲーション（中央）
- ユーザーメニュー（右端）
- 通知アイコン（右端）

**スタイル:**
```css
height: 60px;
background: white;
border-bottom: 1px solid Gray-300;
box-shadow: 0 2px 4px rgba(0,0,0,0.1);
```

### サイドバー

**要素構成:**
- メニューアイテム
- サブメニュー（階層構造）
- 折りたたみボタン

**スタイル:**
```css
width: 240px;
background: Gray-900;
color: white;
transition: width 0.3s;
```

**折りたたみ時:**
```css
width: 60px;
アイコンのみ表示
```

### フッター

**要素構成:**
- コピーライト（左）
- バージョン情報（中央）
- リンク集（右）

---

## インタラクション

### マウスインタラクション

| アクション | 視覚的フィードバック |
|-----------|-------------------|
| ホバー | カーソル変更、色変更 |
| クリック | アクティブ状態表示 |
| ドラッグ | カーソル: grabbing |
| 無効要素 | カーソル: not-allowed |

### キーボード操作

| キー | アクション |
|------|-----------|
| Tab | 次の要素へフォーカス |
| Shift+Tab | 前の要素へフォーカス |
| Enter | ボタン・リンクの実行 |
| Space | チェックボックスの切り替え |
| Esc | モーダル・ドロップダウンを閉じる |
| 矢印キー | リスト内の移動 |

### タッチ操作

| ジェスチャー | アクション |
|------------|-----------|
| タップ | クリックと同等 |
| 長押し | コンテキストメニュー表示 |
| スワイプ | リスト項目の削除・アクション |
| ピンチ | ズーム（有効な場合） |

---

## バリデーション

### バリデーションルール

#### 共通ルール
| 項目 | ルール |
|------|--------|
| 必須項目 | 空欄不可 |
| 最大文字数 | フィールドごとに定義 |
| 文字種 | 半角英数字、日本語など |
| フォーマット | メール、電話番号など |

### エラー表示

#### エラー表示タイミング
- **リアルタイム**: フォーカスアウト時
- **送信時**: フォーム送信ボタン押下時

#### エラー表示方法
```
入力フィールド:
  - ボーダー: Danger色
  - 背景: Danger (5%透明度)

エラーメッセージ:
  - 位置: フィールド直下
  - 色: Danger
  - フォントサイズ: 12px
  - アイコン: ⚠
```

### 成功表示

```
入力フィールド:
  - ボーダー: Success色
  - アイコン: ✓（右端）

成功メッセージ:
  - トースト通知で表示
  - 自動的に消去（5秒）
```

---

## アクセシビリティ

### WAI-ARIA

#### 必須属性
- `role`: 要素の役割を明示
- `aria-label`: スクリーンリーダー用ラベル
- `aria-describedby`: 詳細説明への参照
- `aria-required`: 必須項目の明示
- `aria-invalid`: エラー状態の明示

### キーボードナビゲーション

**実装要件:**
- すべての機能がキーボードで操作可能
- フォーカス順序が論理的
- フォーカス状態が視覚的に明確
- キーボードトラップの回避

### スクリーンリーダー対応

**実装要件:**
- 画像には代替テキスト
- フォーム要素にはラベル
- エラーメッセージの読み上げ
- 動的コンテンツの変更通知

---

## パフォーマンス

### レスポンス時間目標

| アクション | 目標時間 |
|-----------|---------|
| ページ読み込み | < 3秒 |
| 画面遷移 | < 1秒 |
| API応答 | < 500ms |
| UIフィードバック | < 100ms |

### 最適化方針

- **画像**: WebP形式、遅延読み込み
- **CSS/JS**: 圧縮、バンドル化
- **フォント**: サブセット化、プリロード
- **キャッシュ**: ブラウザキャッシュ活用

---

## 多言語対応

### 対応言語
- 日本語（デフォルト）
- 英語
- 中国語（簡体字）

### 実装方針

#### テキスト管理
```javascript
// 言語ファイルで管理
{
  "ja": {
    "welcome": "ようこそ",
    "login": "ログイン"
  },
  "en": {
    "welcome": "Welcome",
    "login": "Login"
  }
}
```

#### レイアウト考慮事項
- テキスト長の違いに対応
- RTL言語への対応準備
- 日付・時刻フォーマットの切り替え
- 通貨表示の切り替え

---

## 改訂履歴

このプロジェクトはGitによるバージョン管理を行っているため、変更履歴はGitのコミット履歴を参照してください。