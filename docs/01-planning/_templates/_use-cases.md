# ユースケース テンプレート

> **使い方**:このテンプレートは `use-cases/` 配下のファイルの記述ルールを定義します。
> - 各セクションの「記述ルール」と「記述例」を参考にして内容を記述してください。
> - **出力形式**: 実際に作成するファイルには「記述ルール」と「記述例」は含めず、内容のみを記述してください。
> - **セクションの統一**: 該当しないセクションも削除せず「該当なし」と記載してください。

## 目次

- [ファイル構成](#ファイル構成)
  - [ディレクトリ構造](#ディレクトリ構造)
- [ユースケースの構成要素](#ユースケースの構成要素)
  - [必須要素](#必須要素)
- [基本情報](#基本情報)
  - [基本情報テーブル](#基本情報テーブル)
  - [事前条件](#事前条件)
  - [事後条件](#事後条件)
- [フロー](#フロー)
  - [基本フロー](#基本フロー)
  - [代替フロー](#代替フロー)
  - [例外フロー](#例外フロー)
- [関連情報](#関連情報)
  - [関連ユースケース](#関連ユースケース)
  - [関連画面](#関連画面)
  - [関連API](#関連api)
  - [備考](#備考)

---

## ファイル構成

### 記述ルール

- ファイル名は `UC{番号}-{名前}.md` 形式とする
- 番号は3桁のゼロ埋めとする
- 関連するユースケースは番号を近くする

### ディレクトリ構造

#### 記述例

```
use-cases/
├── UC001-login.md
├── UC002-logout.md
├── UC003-password-reset.md
├── UC010-order-create.md
├── UC011-order-search.md
├── UC012-order-edit.md
└── UC020-inventory-check.md
```

---

## ユースケースの構成要素

### 記述ルール

各ユースケースには以下の要素を含める。

### 必須要素

#### 記述例

| 要素 | 必須 | 説明 |
|-----|-----|------|
| ユースケースID | 必須 | 一意の識別子 |
| ユースケース名 | 必須 | 簡潔な名称 |
| アクター | 必須 | 実行者 |
| 概要 | 必須 | ユースケースの目的 |
| 事前条件 | 必須 | 実行前に満たすべき条件 |
| 事後条件 | 必須 | 実行後の状態 |
| 基本フロー | 必須 | 正常系の処理手順 |
| 代替フロー | 任意 | 分岐がある場合の処理 |
| 例外フロー | 任意 | エラー時の処理 |
| 関連ユースケース | 任意 | 関連するユースケース |
| 備考 | 任意 | 補足事項 |

---

## 基本情報

### 記述ルール

- ユースケースの基本的な情報をテーブル形式で記述する
- 事前条件・事後条件は箇条書きで記述する

### 基本情報テーブル

#### 記述例

| 項目 | 内容 |
|-----|------|
| ユースケースID | UC010 |
| ユースケース名 | 受注登録 |
| アクター | 営業担当者 |
| 概要 | 顧客からの注文を受け付け、受注情報を登録する |

### 事前条件

#### 記述例

- アクターがログイン済みであること
- アクターに受注登録権限があること

### 事後条件

#### 記述例

- 受注情報がデータベースに登録されていること
- 受注番号が発行されていること
- 在庫が引き当てられていること

---

## フロー

### 記述ルール

- 基本フローは正常系の処理手順を番号付きリストで記述する
- 代替フローは分岐がある場合の処理を記述する
- 例外フローはエラー時の処理を記述する

### 基本フロー

#### 記述例

1. アクターが受注登録画面を開く
2. システムが受注登録画面を表示する
3. アクターが顧客を選択する
4. アクターが商品と数量を入力する
5. アクターが納品希望日を入力する
6. アクターが「登録」ボタンをクリックする
7. システムが入力内容を検証する
8. システムが在庫を確認する
9. システムが受注情報を登録する
10. システムが受注番号を発行する
11. システムが受注完了画面を表示する

### 代替フロー

#### 記述例

**A1: 新規顧客の場合（ステップ3の代替）**

1. アクターが「新規顧客」を選択する
2. システムが顧客登録フォームを表示する
3. アクターが顧客情報を入力する
4. システムが顧客を登録する
5. 基本フローのステップ4に戻る

**A2: 複数商品を登録する場合（ステップ4の代替）**

1. アクターが「商品追加」をクリックする
2. システムが商品入力行を追加する
3. 基本フローのステップ4に戻る

### 例外フロー

#### 記述例

**E1: 在庫不足の場合（ステップ8の例外）**

1. システムが在庫不足エラーを表示する
2. システムが代替納期を提示する
3. アクターが納品希望日を変更する
4. 基本フローのステップ6に戻る

**E2: 入力エラーの場合（ステップ7の例外）**

1. システムがエラーメッセージを表示する
2. アクターが入力内容を修正する
3. 基本フローのステップ6に戻る

---

## 関連情報

### 記述ルール

- 関連するユースケース、画面、APIを記述する
- 備考には補足事項を記載する

### 関連ユースケース

#### 記述例

| ユースケースID | 関係 |
|--------------|------|
| UC001 | 事前条件（ログイン） |
| UC011 | 関連（受注検索から遷移可能） |
| UC020 | 利用（在庫確認） |

### 関連画面

#### 記述例

- S010: 受注登録画面
- S011: 受注完了画面

### 関連API

#### 記述例

- POST /api/orders
- GET /api/inventory/{productId}

### 備考

#### 記述例

- 受注金額が100万円を超える場合は上長承認が必要
- 与信限度額を超える場合は警告を表示
