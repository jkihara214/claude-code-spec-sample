# 制約事項 テンプレート

> **使い方**:このテンプレートは `constraints.md` の記述ルールを定義します。
> - 各セクションの「記述ルール」と「記述例」を参考にして内容を記述してください。
> - **出力形式**: 実際に作成するファイルには「記述ルール」と「記述例」は含めず、内容のみを記述してください。
> - **セクションの統一**: 該当しないセクションも削除せず「該当なし」と記載してください。

## 目次

- [技術的制約](#技術的制約)
  - [使用技術の指定](#使用技術の指定)
  - [使用禁止技術](#使用禁止技術)
  - [既存システム連携](#既存システム連携)
- [予算制約](#予算制約)
  - [予算概要](#予算概要)
  - [予算超過時の対応](#予算超過時の対応)
  - [コスト削減優先順位](#コスト削減優先順位)
- [契約・調達の制約](#契約調達の制約)
  - [顧客との契約条件](#顧客との契約条件)
  - [再委託・外注の制約](#再委託外注の制約)
  - [調達リードタイム](#調達リードタイム)
- [環境・インフラの制約](#環境インフラの制約)
  - [インフラ環境](#インフラ環境)
  - [ネットワーク制約](#ネットワーク制約)
- [データの制約](#データの制約)
  - [データ保管](#データ保管)
  - [データ保持・削除](#データ保持削除)
- [スケジュール制約](#スケジュール制約)
  - [固定マイルストーン](#固定マイルストーン)
  - [遅延リスク](#遅延リスク)
  - [フェーズスケジュール](#フェーズスケジュール)
- [法的・規制上の制約](#法的規制上の制約)
  - [準拠すべき法規制](#準拠すべき法規制)
  - [対応が必要な要件](#対応が必要な要件)
  - [違反時のリスク](#違反時のリスク)
- [組織・体制の制約](#組織体制の制約)
  - [開発体制](#開発体制)
  - [運用体制](#運用体制)
  - [スキル制約](#スキル制約)

---

## 技術的制約

### 記述ルール

- 使用が必須または禁止の技術を明確にする
- 既存システムとの連携要件を記述する
- 制約の理由を明記する

### 使用技術の指定

#### 記述例

| 分類 | 指定内容 | 理由 |
|-----|---------|------|
| フロントエンド | React + TypeScript | 社内標準 |
| バックエンド | Node.js または Java | 保守要員のスキル |
| データベース | PostgreSQL | ライセンスコスト |
| クラウド | AWS | 既存インフラとの統合 |

### 使用禁止技術

#### 記述例

| 技術 | 理由 |
|-----|------|
| Oracle Database | ライセンスコスト |
| jQuery | 保守性の観点 |

### 既存システム連携

#### 記述例

| システム名 | 連携方式 | 制約 |
|-----------|---------|------|
| 会計システム | CSV連携 | 日次バッチのみ |
| Active Directory | LDAP | 認証必須 |
| 物流システム | REST API | 先方仕様に準拠 |

---

## 予算制約

### 記述ルール

- 総予算と内訳を明確にする
- 予算超過時の対応方針を記述する
- コスト削減の優先順位を示す

### 予算概要

#### 記述例

| 項目 | 金額 | 備考 |
|-----|------|------|
| 総予算 | 5,000万円 | |
| 開発費 | 3,500万円 | 設計・実装・テスト |
| インフラ費 | 500万円 | 初年度 |
| 運用費 | 500万円/年 | 2年目以降 |
| 予備費 | 500万円 | |

### 予算超過時の対応

#### 記述例

| 優先度 | 対応 |
|-------|-----|
| 1 | スコープの縮小（Phase 2への先送り） |
| 2 | 予備費の充当 |
| 3 | 追加予算の申請 |

### コスト削減優先順位

#### 記述例

1. 任意機能の削減
2. UI/UXの簡素化
3. 自動化範囲の縮小

---

## 契約・調達の制約

### 記述ルール

- 顧客との契約条件・制約を明確にする
- 再委託・外注に関する制約を記述する
- 調達に関するリードタイムや承認プロセスを示す

### 顧客との契約条件

#### 記述例

| 項目 | 条件 | 備考 |
|-----|------|------|
| 契約形態 | 準委任（要件定義）、請負（開発） | フェーズにより異なる |
| 納品条件 | 成果物一式 + ソースコード | 納品物一覧は別途定義 |
| 検収期間 | 納品後2週間以内 | 検収基準は別途合意 |
| 瑕疵担保期間 | 検収後1年間 | 重大バグのみ対象 |
| 知的財産権 | 納品後顧客に帰属 | 汎用部品は除く |

### 再委託・外注の制約

#### 記述例

| 項目 | 制約 | 備考 |
|-----|------|------|
| 再委託可否 | 事前承認が必要 | 書面での承認必須 |
| 再委託先の条件 | 国内企業に限定 | セキュリティ要件 |
| 再委託範囲 | 実装・テストのみ | 設計は自社対応必須 |
| 情報管理 | NDA締結必須 | 顧客情報の取扱い |

### 調達リードタイム

#### 記述例

| 項目 | リードタイム | 備考 |
|-----|-------------|------|
| 顧客承認プロセス | 2週間 | 仕様変更時 |
| 追加発注の承認 | 1週間 | 見積提出から |
| 環境・ライセンス調達 | 3週間 | 顧客側での手配 |

---

## 環境・インフラの制約

### 記述ルール

- インフラ環境の選択制約を明確にする
- データセンター・ネットワークの制約を記述する
- 既存環境との整合性要件を示す

### インフラ環境

#### 記述例

| 項目 | 制約 | 理由 |
|-----|------|------|
| クラウド利用 | AWS限定 | 既存システムとの統合 |
| リージョン | 東京リージョン必須 | データ主権・レイテンシ |
| オンプレミス利用 | 不可 | 運用コスト削減方針 |

### ネットワーク制約

#### 記述例

| 項目 | 制約 |
|-----|------|
| 社内ネットワーク接続 | VPN経由必須 |
| インターネット公開 | 情報セキュリティ部門の承認必要 |

---

## データの制約

### 記述ルール

- データの保管・取扱いに関する制約を明確にする
- データ主権・越境移転の制約を記述する
- 保持期間・削除に関する制約を示す

### データ保管

#### 記述例

| データ種別 | 制約 | 根拠 |
|-----------|------|------|
| 個人情報 | 国内保管必須 | 社内規定 |
| 取引データ | 暗号化必須 | 業界ガイドライン |

### データ保持・削除

#### 記述例

| データ種別 | 保持期間 | 削除要件 |
|-----------|---------|---------|
| 顧客情報 | 契約終了後5年 | 完全削除 |
| 取引履歴 | 7年間 | 法定保存期間 |

---

## スケジュール制約

### 記述ルール

- 固定のマイルストーン・期限を明確にする
- 期限の理由（ビジネス上の制約等）を記述する
- 遅延時のリスクと対応を示す

### 固定マイルストーン

#### 記述例

| マイルストーン | 期限 | 理由 |
|--------------|------|------|
| 要件定義完了 | 2025年1月末 | 予算承認プロセス |
| Phase 1リリース | 2025年4月1日 | 新年度開始に合わせる |
| Phase 2リリース | 2025年10月1日 | 下期開始に合わせる |
| 旧システム停止 | 2025年12月末 | 保守契約終了 |

### 遅延リスク

#### 記述例

| リスク | 影響 | 対応 |
|-------|-----|------|
| Phase 1遅延 | 業務への影響 | 機能縮小で対応 |
| 旧システム停止に間に合わない | 追加保守費用発生 | 優先機能の特定 |

### フェーズスケジュール

#### 記述例

| フェーズ | 開始 | 終了 |
|--------|------|------|
| Phase 1 | 2025年1月 | 2025年4月 |
| Phase 2 | 2025年5月 | 2025年10月 |

> - 各フェーズの目的は [business-requirements.md](./business-requirements.md) を参照
> - 各機能のフェーズ割り当ては [functional-requirements.md](./functional-requirements.md) を参照

---

## 法的・規制上の制約

### 記述ルール

- 準拠すべき法律・規制を列挙する
- 対応が必要な要件を記述する（具体的な実装方針は non-functional-requirements.md に委譲）
- 違反時のリスクを明記する

### 準拠すべき法規制

#### 記述例

| 法規制 | 対象 | 主な要件 |
|-------|-----|---------|
| 個人情報保護法 | 顧客情報 | 適切な管理・利用目的の明示 |
| 電子帳簿保存法 | 取引データ | 電子保存要件の遵守 |
| GDPR | EU顧客 | 同意取得・削除権対応 |

### 対応が必要な要件

#### 記述例

| 法規制 | 要求事項 | 詳細参照先 |
|-------|---------|-----------|
| 個人情報保護法 | 個人情報の適切な管理 | non-functional-requirements.md |
| 電子帳簿保存法 | 電子データの保存要件 | non-functional-requirements.md |
| GDPR | 同意取得・削除権対応 | non-functional-requirements.md |

> 具体的な実装方針は [non-functional-requirements.md](./non-functional-requirements.md) を参照

### 違反時のリスク

#### 記述例

| 法規制 | リスク |
|-------|-------|
| 個人情報保護法 | 最大1億円の罰金 |
| GDPR | 売上高の4%または2000万ユーロ |

---

## 組織・体制の制約

### 記述ルール

- 開発体制の制約を明確にする
- 運用体制の制約を記述する
- スキル・リソースの制約を示す

### 開発体制

#### 記述例

| 項目 | 制約 | 備考 |
|-----|------|------|
| 社内開発者 | 2名のみ | PM兼任 |
| 外部委託 | 必須 | 開発の主体 |
| レビュー | 社内で実施 | セキュリティレビュー含む |

### 運用体制

#### 記述例

| 項目 | 制約 | 備考 |
|-----|------|------|
| 運用担当 | 情報システム部（3名） | 他システムと兼任 |
| 24時間対応 | 不可 | 夜間は翌営業日対応 |
| 障害対応 | 外部委託 | オンコール契約 |

### スキル制約

#### 記述例

| 分野 | 社内スキル | 対応 |
|-----|----------|------|
| フロントエンド | React経験あり | 社内対応可 |
| インフラ | AWS経験なし | 外部支援必要 |
| セキュリティ | 基礎レベル | 外部監査必要 |
