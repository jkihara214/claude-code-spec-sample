# 機能要件 テンプレート

> **使い方**:このテンプレートは `functional-requirements.md` の記述ルールを定義します。
> - 各セクションの「記述ルール」と「記述例」を参考にして内容を記述してください。
> - **出力形式**: 実際に作成するファイルには「記述ルール」と「記述例」は含めず、内容のみを記述してください。
> - **セクションの統一**: 該当しないセクションも削除せず「該当なし」と記載してください。

## 目次

- [機能一覧表](#機能一覧表)
  - [アクター定義](#アクター定義)
  - [優先度の定義](#優先度の定義)
  - [一覧](#一覧)
- [各機能の概要説明](#各機能の概要説明)
  - [機能詳細](#機能詳細)

---

## 機能一覧表

### 記述ルール

- カテゴリID・機能IDを付与し、一意に識別できるようにする
- 機能カテゴリでグループ化して記載する
- カテゴリ名・機能名の英語名はPascalCase形式で記載する
- 機能名は以下の標準命名規則に従う（業務固有の操作は例外として許容）
- 各機能の概要を簡潔に記述する
- 各機能に優先度とリリースフェーズを割り当てる
- 各機能を利用可能なアクターを全て列挙する（詳細な権限設計は基本設計で定義）
- **フェーズと機能の紐付けはこのセクションで一元管理する**

#### 機能名の標準命名規則

| 操作 | 日本語 | 英語 | 説明 |
|-----|-------|------|------|
| Create | 登録 | Create | 新規作成 |
| Read | 詳細 | Detail | 単一レコード参照 |
| Update | 編集 | Edit | 内容変更 |
| Delete | 削除 | Delete | 削除 |
| List | 一覧 | List | 一覧表示・検索 |

> - 英語名は「エンティティ名 + 操作」の形式（例: OrderCreate, OrderList）
> - 業務固有の操作（承認、却下、調整等）は上記に従わなくてよい

### アクター定義

#### 記述例

| アクター | 説明 |
|---------|------|
| 管理者 | システム全体の管理権限を持つ |
| 営業担当 | 受注業務を担当する |
| 倉庫担当 | 在庫管理業務を担当する |
| 閲覧者 | 参照のみ可能 |

### 優先度の定義

#### 記述例

| 優先度 | 説明 | リリースフェーズ |
|-------|------|----------------|
| 必須 | リリースに必須の機能 | Phase 1 |
| 高 | 業務に重要な機能 | Phase 1 |
| 中 | あると便利な機能 | Phase 2 |
| 低 | 将来的に実装する機能 | 未定 |

> - 各フェーズの目的は [business-requirements.md](./business-requirements.md) を参照
> - 各フェーズのスケジュールは [constraints.md](./constraints.md) を参照

### 一覧

#### 記述例

| カテゴリID | カテゴリ名 | カテゴリ名(英語) | 機能ID | 機能名 | 機能名(英語) | 概要 | 権限 | 優先度 | フェーズ |
|-----------|-----------|-----------------|-------|-------|-------------|------|------|-------|---------|
| C01 | 認証 | Authentication | F001 | ログイン | Login | ユーザー認証を行う | 管理者、営業担当、倉庫担当、閲覧者 | 必須 | Phase 1 |
|  |  |  | F002 | ログアウト | Logout | セッションを終了する | 管理者、営業担当、倉庫担当、閲覧者 | 必須 | Phase 1 |
|  |  |  | F003 | パスワードリセット | PasswordReset | パスワードを再設定する | 管理者、営業担当、倉庫担当、閲覧者 | 高 | Phase 1 |
| C02 | 受注管理 | Order | F010 | 受注登録 | OrderCreate | 新規受注を登録する | 管理者、営業担当 | 必須 | Phase 1 |
|  |  |  | F011 | 受注一覧 | OrderList | 受注情報を一覧表示・検索する | 管理者、営業担当、倉庫担当、閲覧者 | 必須 | Phase 1 |
|  |  |  | F012 | 受注編集 | OrderEdit | 受注内容を修正する | 管理者、営業担当 | 高 | Phase 1 |
| C03 | 在庫管理 | Inventory | F020 | 在庫一覧 | InventoryList | 在庫状況を一覧表示・検索する | 管理者、営業担当、倉庫担当、閲覧者 | 必須 | Phase 1 |
|  |  |  | F021 | 在庫調整 | InventoryAdjust | 在庫数を調整する | 管理者、倉庫担当 | 中 | Phase 2 |

---

## 各機能の概要説明

### 記述ルール

- カテゴリごとにグループ化して記述する
- 機能IDごとに以下の項目を記載する
  - 概要: 機能の説明
  - 必要な情報: ユーザーが入力・指定する情報（ビジネス視点）
  - 得られる情報: ユーザーが得る情報・結果（ビジネス視点）
  - ビジネスルール: 業務上の条件・制約
- データ型・フォーマット・処理ロジックは基本設計に委譲する
- ユースケースとの紐付けは use-cases/ 側で管理する

### 機能詳細

#### 記述例

#### C01: 認証 (Authentication)

**F001: ログイン (Login)**

| 項目 | 内容 |
|-----|------|
| 概要 | ユーザー認証を行い、システムを利用可能にする |
| 必要な情報 | ユーザーID、パスワード |
| 得られる情報 | 認証結果（成功/失敗）、ログイン後の画面 |
| ビジネスルール | 5回連続失敗でアカウントロック |

**F002: ログアウト (Logout)**

| 項目 | 内容 |
|-----|------|
| 概要 | システムの利用を終了する |
| 必要な情報 | なし（ログイン状態であること） |
| 得られる情報 | ログアウト完了通知 |
| ビジネスルール | なし |

#### C02: 受注管理 (Order)

**F010: 受注登録 (OrderCreate)**

| 項目 | 内容 |
|-----|------|
| 概要 | 顧客からの注文情報を登録し、受注番号を発行する |
| 必要な情報 | 顧客、商品・数量、納品希望日、備考 |
| 得られる情報 | 受注番号、登録完了通知 |
| ビジネスルール | 在庫不足の場合は受注不可、納品希望日は翌営業日以降 |

**F011: 受注一覧 (OrderList)**

| 項目 | 内容 |
|-----|------|
| 概要 | 受注情報を一覧表示・検索する |
| 必要な情報 | 検索条件（受注番号、顧客名、受注日、ステータス） |
| 得られる情報 | 受注一覧（受注番号、顧客名、受注日、金額、ステータス） |
| ビジネスルール | 検索結果は最大1000件まで表示 |

