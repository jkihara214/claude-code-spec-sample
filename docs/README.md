# ドキュメント構成

このディレクトリには、Claude Codeを使用した仕様駆動開発のためのガイドラインとドキュメントテンプレートを格納します。

## 目次

- [ディレクトリ構成](#ディレクトリ構成)
- [設計フェーズとの対応](#設計フェーズとの対応)
- [ドキュメント作成のガイドライン](#ドキュメント作成のガイドライン)
- [Claude Codeへの指示例](#claude-codeへの指示例)
- [注意事項](#注意事項)

## ディレクトリ構成

```
docs/
├── 00-rules/                        # 横断：開発ルール・規約
│   ├── coding-standards.md          # コーディング規約（言語別のスタイルガイド）
│   ├── naming-conventions.md        # 命名規則（変数、関数、ファイル等の命名ルール）
│   ├── git-workflow.md              # Git運用ルール（ブランチ戦略、コミットメッセージ規約）
│   └── review-guidelines.md         # レビュー基準（コードレビューのチェックリスト）
│
├── 01-planning/                     # 企画・要件定義
│   ├── business-requirements.md     # ビジネス要件（プロジェクトの目的・背景・ゴール）
│   ├── business-flow.md             # 業務フロー図（業務プロセス全体の流れ）
│   ├── functional-requirements.md   # 機能要件（システムが提供すべき機能の一覧）
│   ├── non-functional-requirements.md # 非機能要件（性能・セキュリティ・可用性等）
│   ├── constraints.md               # 制約事項（技術・予算・期間・法的制約等）
│   ├── use-cases/                   # ユースケース（アクターとシステムの相互作用）
│   └── user-stories/                # [任意] ユーザーストーリー（ユーザー視点での機能記述）
│
├── 02-basic-design/                 # 基本設計
│   ├── architecture/                # アーキテクチャ設計
│   │   ├── technology-stack.md      # 技術スタック（使用技術・選定理由）
│   │   ├── system-architecture.md   # システム構成図（全体構成・コンポーネント構成）
│   │   ├── infrastructure.md        # インフラ構成（クラウド構成・ネットワーク）
│   │   └── performance-design.md    # パフォーマンス設計（性能目標・最適化戦略）
│   ├── ui-design/                   # UI設計
│   │   ├── screen-overview.md       # 画面一覧・遷移図（全画面のリストと遷移フロー）
│   │   └── screens/                 # 個別画面設計（各画面のレイアウト・仕様）
│   ├── api-design/                  # API設計（OpenAPI形式）
│   │   ├── openapi.yaml             # OpenAPI仕様書（エンドポイント・リクエスト・レスポンス）
│   │   └── api-guidelines.md        # API設計ガイドライン（命名規則・共通仕様）
│   ├── database/                    # データベース設計
│   │   └── database-design.md       # データベース設計（ER図・テーブル定義）
│   ├── security/                    # セキュリティ設計
│   │   └── security-design.md       # セキュリティ設計（認証・認可・データ保護）
│   ├── report-design/               # [任意] 帳票設計
│   │   └── report-specifications.md # 帳票仕様書（印刷・PDF出力のレイアウト）
│   ├── batch-design/                # [任意] バッチ処理設計
│   │   └── batch-specifications.md  # バッチ仕様書（定期実行処理の設計）
│   └── external-interface/          # [任意] 外部インターフェース設計
│       └── external-api.md          # 外部API連携仕様（外部システムとの連携）
│
├── 03-detail-design/                # 詳細設計
│   ├── frontend/                    # フロントエンド詳細設計（JS処理ロジック）
│   ├── backend/                     # バックエンド詳細設計（API処理ロジック）
│   ├── batch/                       # バッチ処理詳細設計（バッチ処理ロジック）
│   ├── state-management/            # 状態管理設計（ストア設計・データフロー）
│   ├── error-handling.md            # エラーハンドリング方針（共通エラー処理）
│   ├── sequence-diagrams/           # シーケンス図（オブジェクト間のメッセージフロー）
│   ├── class-diagrams/              # クラス図（クラス構造と関連）
│   └── data-flow/                   # データフロー図（データの流れと処理）
│
├── 04-testing/                      # テスト設計
│   ├── test-plan.md                 # テスト計画書（テスト全体の方針・スケジュール・体制）
│   ├── test-strategy.md             # テスト戦略（テストレベル・手法・ツール選定）
│   ├── unit-tests/                  # 単体テスト仕様（モジュール単位のテストケース）
│   ├── integration-tests/           # 結合テスト仕様（モジュール間連携のテストケース）
│   ├── e2e-tests/                   # E2Eテスト仕様（エンドツーエンドのシナリオテスト）
│   └── test-data/                   # テストデータ定義（テスト用のサンプルデータ）
│
└── 05-operations/                   # 運用設計
    ├── monitoring.md                # 監視設計（監視対象・閾値・アラート設定）
    ├── operation-procedures.md      # 運用手順書（日常運用・定期作業の手順）
    ├── incident-response.md         # 障害対応マニュアル（障害切り分け・復旧手順）
    ├── backup-recovery.md           # バックアップ・リカバリ設計（バックアップ方針・復旧手順）
    └── release-procedures.md        # リリース手順書（デプロイ手順・ロールバック手順）
```

## 設計フェーズとの対応

| フェーズ | ディレクトリ | 説明 |
|---------|-------------|------|
| （横断） | `00-rules/` | プロジェクト全体で統一すべき開発ルール・コーディング規約。すべての工程で参照される |
| 企画・要件定義 | `01-planning/` | ビジネス要件とシステム要件を明確化。「何を作るか」「なぜ作るか」を定義 |
| 基本設計（外部設計） | `02-basic-design/` | アーキテクチャ、UI、API、DBの設計。ユーザーから見える部分（インターフェース）を決定 |
| 詳細設計（内部設計） | `03-detail-design/` | 基本設計をプログラミング可能なレベルまで詳細化。「どのように実装するか」を定義 |
| テスト設計 | `04-testing/` | 品質確保のためのテスト計画・戦略・テストケース。V字モデルに基づき各設計工程に対応 |
| 運用設計 | `05-operations/` | システム稼働後の運用・監視・障害対応。継続的なサービス提供を確保 |

**作成順序の目安:**

1. `00-rules/` - 最初にプロジェクト全体のルールを策定
2. `01-planning/` - 要件を明確化
3. `02-basic-design/` - 基本設計（UI・API・DBは並行作成可能）
4. `03-detail-design/` - 基本設計が概ね固まってから作成
5. `04-testing/` - 各フェーズに応じて作成
6. `05-operations/` - 基本設計以降で並行して作成可能

## ドキュメント作成のガイドライン

1. **Markdown形式で記述**: 基本はMarkdown形式で作成してください。API仕様はOpenAPI（YAML）形式を使用します。
2. **参照の明記**: 他のドキュメントを参照する場合は、相対パスで明記してください。
3. **図の活用**: 複雑な内容は図表を用いて視覚化してください。
4. **定期的な更新**: 実装と仕様の乖離が発生しないよう、定期的に更新してください。

## Claude Codeへの指示例

ドキュメントを参照させる際の指示例:

```
docs/01-planning/ の要件定義を確認して、
docs/02-basic-design/ の基本設計に基づいて実装してください。
実装の際は docs/00-rules/ のコーディング規約に従ってください。
```

## 注意事項

- 機密情報を含む場合は、適切なアクセス制御を設定してください。
- プロジェクト固有の情報は、このテンプレートをコピー後にガイドラインに沿って作成してください。
- ドキュメントの粒度は、プロジェクトの規模に応じて調整してください。
