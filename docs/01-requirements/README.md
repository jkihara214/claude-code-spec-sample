# 要件定義ドキュメント

## 目次

- [概要](#概要)
- [ドキュメント構成](#ドキュメント構成)
  - [business-requirements.md](#business-requirementsmd)
  - [functional-requirements.md](#functional-requirementsmd)
  - [non-functional-requirements.md](#non-functional-requirementsmd)
  - [use-cases.md](#use-casesmd)
  - [user-stories.md](#user-storiesmd)
  - [constraints.md](#constraintsmd)
- [使用方法](#使用方法)
  - [新規プロジェクトでの使用](#新規プロジェクトでの使用)
  - [ドキュメント作成の順序](#ドキュメント作成の順序)
  - [他のドキュメントとの関連](#他のドキュメントとの関連)
- [記述時の注意点](#記述時の注意点)
  - [明確性](#明確性)
  - [一貫性](#一貫性)
  - [追跡可能性](#追跡可能性)
  - [検証可能性](#検証可能性)
- [テンプレートのカスタマイズ](#テンプレートのカスタマイズ)
- [参考資料](#参考資料)

## 概要

このディレクトリには、プロジェクトの要件定義に関するドキュメントを格納します。
要件定義は、プロジェクトの成功において最も重要な基盤となります。

## ドキュメント構成

### [business-requirements.md](business-requirements.md)
**ビジネス要件**

プロジェクトのビジネス上の目的、背景、期待される効果を定義します。

- プロジェクトの背景と目的
- ビジネス上の課題
- 期待される成果・効果
- ステークホルダー
- ビジネス上の制約

### [functional-requirements.md](functional-requirements.md)
**機能要件**

システムが提供すべき機能を具体的に定義します。

- 必須機能の一覧
- 各機能の詳細仕様
- 機能の優先順位
- 機能間の関係性

### [non-functional-requirements.md](non-functional-requirements.md)
**非機能要件**

システムの性能、セキュリティ、可用性など、機能以外の要件を定義します。

- パフォーマンス要件
- セキュリティ要件
- 可用性・信頼性要件
- 拡張性・保守性要件
- ユーザビリティ要件

### [use-cases.md](use-cases.md)
**ユースケース**

システムの利用シナリオを具体的に記述します。

- アクター（利用者）の定義
- ユースケース図
- 各ユースケースの詳細フロー
- 例外フロー

### [user-stories.md](user-stories.md)
**ユーザーストーリー**

アジャイル開発で使用するユーザー視点の要件を記述します。

- エピック（大きなテーマ）
- ユーザーストーリー
- 受け入れ基準
- ストーリーポイント

### [constraints.md](constraints.md)
**制約事項**

プロジェクト実施における技術的、ビジネス的、その他の制約を明記します。

- 技術的制約
- ビジネス上の制約
- 法的・規制上の制約
- リソース上の制約
- スケジュール上の制約

## 使用方法

### 新規プロジェクトでの使用

1. 各テンプレートファイルを開く
2. サンプル内容を参考に、プロジェクト固有の内容に置き換える
3. 不要なセクションは削除、必要に応じてセクションを追加
4. 定期的に見直し、更新する

### ドキュメント作成の順序

開発方法論に応じて、使用するドキュメントと作成順序が異なります。

#### ウォーターフォール開発の場合

要件を詳細に定義してから実装に進むアプローチです。

**作成順序**:
1. **business-requirements.md** - ビジネス要件を明確化
2. **constraints.md** - 制約事項を洗い出し
3. **functional-requirements.md** - 機能要件を詳細に定義
4. **non-functional-requirements.md** - 非機能要件を詳細に定義
5. **use-cases.md** - 各機能の利用シナリオを詳細に記述
6. **user-stories.md** - （オプション）補足的にユーザー視点を追加

**重点ドキュメント**:
- functional-requirements.md（網羅的な機能定義）
- use-cases.md（詳細なフロー記述）
- non-functional-requirements.md（具体的な数値目標）

---

#### アジャイル開発（スクラム）の場合

イテレーティブに要件を明確化しながら開発を進めるアプローチです。

**作成順序**:
1. **business-requirements.md** - ビジネス目的とゴールを明確化
2. **constraints.md** - 技術的・ビジネス的制約を把握
3. **user-stories.md** - エピックとユーザーストーリーを作成（優先順位付き）
4. **functional-requirements.md** - （簡易版）主要機能の概要を記載
5. **non-functional-requirements.md** - 品質基準とアーキテクチャに影響する要件を定義
6. **use-cases.md** - （後から追加）複雑な機能のみ詳細化

**重点ドキュメント**:
- user-stories.md（スプリント計画の中心）
- business-requirements.md（ビジョンと目標の共有）
- non-functional-requirements.md（品質基準）

**特徴**:
- user-stories.mdを反復的に更新
- 各スプリントで詳細化
- functional-requirements.mdは概要レベルでOK

---

#### リーン開発/スタートアップの場合

MVP（最小実用製品）を素早くリリースし、検証しながら進めるアプローチです。

**作成順序**:
1. **business-requirements.md** - （簡易版）ビジネス仮説と目標を記載
2. **constraints.md** - 予算・スケジュール等の重要な制約のみ
3. **user-stories.md** - MVP機能のみに絞ったストーリー作成
4. **functional-requirements.md** - （最小限）MVP機能の概要
5. **non-functional-requirements.md** - （最小限）必須の品質基準のみ
6. **use-cases.md** - （スキップ可）必要に応じて後から追加

**重点ドキュメント**:
- user-stories.md（MVPストーリーのみ）
- business-requirements.md（検証したい仮説）
- constraints.md（予算・スケジュール制約）

**特徴**:
- 最小限のドキュメントから始める
- 市場検証後に詳細化
- use-cases.mdは後回し可

---

#### ハイブリッド開発の場合

ウォーターフォールとアジャイルを組み合わせたアプローチです。

**作成順序**:
1. **business-requirements.md** - ビジネス要件を明確化
2. **constraints.md** - 制約事項を洗い出し
3. **functional-requirements.md** - 全体機能の概要を定義
4. **user-stories.md** - 実装する機能をストーリー形式で詳細化
5. **use-cases.md** - 重要・複雑な機能のみ詳細に記述
6. **non-functional-requirements.md** - 非機能要件を定義

**重点ドキュメント**:
- すべてのドキュメントをバランス良く作成
- functional-requirements.mdで全体把握
- user-stories.mdで実装単位を管理

---

#### ドキュメント作成の共通原則

開発方法論に関わらず、以下は共通して重要です：

1. **business-requirements.md**と**constraints.md**は必ず最初に作成
2. プロジェクトの「Why（なぜ）」を明確にしてから「What（何を）」に進む
3. すべてのドキュメントを完璧に作る必要はない（必要に応じて後から追加）
4. ドキュメントは生きたドキュメントとして継続的に更新

### 他のドキュメントとの関連

- **00-rules/** - 要件定義時の表記ルールや記述方法の規約を参照
- **02-architecture/** - 非機能要件を満たすアーキテクチャ設計に反映
- **03-features/** - 機能要件を詳細化した個別機能仕様として展開
- **04-api/** - 機能要件からAPI仕様を導出
- **05-tests/** - 要件が満たされているかを検証するテスト仕様を策定

## 記述時の注意点

### 明確性
- 曖昧な表現を避け、具体的かつ明確に記述する
- 「できるだけ」「なるべく」などの曖昧な表現は使わない
- 測定可能な基準を設ける

### 一貫性
- 用語の定義を統一する
- 矛盾する要件がないか確認する
- 他のドキュメントとの整合性を保つ

### 追跡可能性
- 各要件に一意のIDを付与する（例：BR-001、FR-001）
- 要件間の依存関係を明記する
- 変更履歴はGitで管理（ドキュメント内に履歴セクションは不要）

### 検証可能性
- テスト可能な要件として記述する
- 受け入れ基準を明確にする
- 完了の定義（Definition of Done）を設ける

## テンプレートのカスタマイズ

プロジェクトの性質に応じて、以下のようなカスタマイズを検討してください：

- **大規模プロジェクト**: さらに詳細なサブドキュメントを作成、セクションを別ファイルに分割
- **複雑なドメイン**: 用語集を別ファイルとして作成
- **規制産業**: コンプライアンス要件を独立したドキュメントとして管理
- **マルチプロダクト**: プロダクトごとにサブディレクトリを作成

## 参考資料

要件定義の手法については、以下のような手法を参考にしてください：

- IEEE 830（ソフトウェア要求仕様書の推奨慣行）
- FURPS+（機能性、使いやすさ、信頼性、性能、サポート性）
- MoSCoW法（Must/Should/Could/Won't）による優先順位付け
- ユーザーストーリーマッピング
