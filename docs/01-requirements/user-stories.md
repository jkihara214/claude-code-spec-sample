# ユーザーストーリー

## 目次

- [概要](#概要)
- [ユーザーストーリーの記述方法](#ユーザーストーリーの記述方法)
  - [基本フォーマット](#基本フォーマット)
- [エピック（大きなテーマ）](#エピック大きなテーマ)
  - [E-001: ユーザー管理・認証](#e-001-ユーザー管理認証)
  - [E-002: 資産検索・閲覧](#e-002-資産検索閲覧)
  - [E-003: 貸出・返却プロセス](#e-003-貸出返却プロセス)
  - [E-004: 棚卸し管理](#e-004-棚卸し管理)
  - [E-005: レポート・分析](#e-005-レポート分析)
  - [E-006: 管理機能](#e-006-管理機能)
- [ユーザーストーリー詳細](#ユーザーストーリー詳細)
  - [エピック E-001: ユーザー管理・認証](#エピック-e-001-ユーザー管理認証)
  - [エピック E-002: 資産検索・閲覧](#エピック-e-002-資産検索閲覧)
  - [エピック E-003: 貸出・返却プロセス](#エピック-e-003-貸出返却プロセス)
  - [エピック E-004: 棚卸し管理](#エピック-e-004-棚卸し管理)
  - [エピック E-005: レポート・分析](#エピック-e-005-レポート分析)
  - [エピック E-006: 管理機能](#エピック-e-006-管理機能)
- [ストーリーマッピング](#ストーリーマッピング)
  - [リリース1（MVP - 最小実用製品）](#リリース1mvp---最小実用製品)
  - [リリース2（機能拡張）](#リリース2機能拡張)
  - [リリース3（高度な機能）](#リリース3高度な機能)
- [関連ドキュメント](#関連ドキュメント)

## 概要

このドキュメントでは、アジャイル開発手法で使用するユーザーストーリーを定義します。
ユーザーストーリーは「〇〇として、△△したい、なぜなら××だから」という形式で、ユーザー視点の価値を表現します。

---

## ユーザーストーリーの記述方法

### 基本フォーマット

```
【ユーザーストーリー】
<ユーザータイプ>として、<達成したいこと>をしたい、なぜなら<理由・価値>だから

【受け入れ基準】
- [ ] 基準1
- [ ] 基準2
- [ ] 基準3

【ストーリーポイント】: X

【優先度】: High/Medium/Low

【依存関係】: 他のストーリーID

【備考】: 補足情報
```

---

## エピック（大きなテーマ）

### E-001: ユーザー管理・認証
社内認証システムとの連携、ユーザー権限管理に関する機能群

**含まれるストーリー**: US-001 〜 US-003

---

### E-002: 資産検索・閲覧
資産の検索、詳細情報閲覧に関する機能群

**含まれるストーリー**: US-010 〜 US-012

---

### E-003: 貸出・返却プロセス
資産の貸出申請、承認、返却に関する機能群

**含まれるストーリー**: US-020 〜 US-025

---

### E-004: 棚卸し管理
定期棚卸しの実施と差異対応に関する機能群

**含まれるストーリー**: US-030 〜 US-032

---

### E-005: レポート・分析
各種レポート出力と利用状況分析に関する機能群

**含まれるストーリー**: US-040 〜 US-042

---

### E-006: 管理機能
管理者向けの資産管理、設定機能群

**含まれるストーリー**: US-100 〜 US-105

---

## ユーザーストーリー詳細

### エピック E-001: ユーザー管理・認証

#### US-001: 社内SSO連携ログイン

**ストーリー**:
従業員として、社内アカウントでシームレスにログインしたい、なぜなら新しいパスワードを覚える手間を省きたいから

**受け入れ基準**:
- [ ] Active DirectoryまたはGoogle Workspaceでログインできる
- [ ] 初回ログイン時に自動的にアカウントが作成される
- [ ] 氏名、部署、役職が自動的に取得される
- [ ] ログイン後、ダッシュボードが表示される
- [ ] 認証失敗時は適切なエラーメッセージが表示される

**ストーリーポイント**: 8

**優先度**: High

**依存関係**: なし

**備考**: OAuth 2.0 / SAML 2.0を使用

---

#### US-002: 権限の自動付与

**ストーリー**:
システム管理者として、役職に応じて自動的に権限を付与したい、なぜなら手動での権限設定の手間を減らしたいから

**受け入れ基準**:
- [ ] 部門長は自動的に承認者権限が付与される
- [ ] 総務部メンバーは資産管理者権限が付与される
- [ ] 一般従業員は基本権限のみ付与される
- [ ] 権限付与のルールを設定画面で変更できる
- [ ] 権限変更履歴が記録される

**ストーリーポイント**: 5

**優先度**: Medium

**依存関係**: US-001

---

#### US-003: プロフィール確認

**ストーリー**:
従業員として、自分のプロフィールと借りている資産を確認したい、なぜなら現在の状況を把握したいから

**受け入れ基準**:
- [ ] 氏名、社員番号、所属部署、メールアドレスが表示される
- [ ] 現在借りている資産一覧が表示される
- [ ] 貸出履歴（直近10件）が表示される
- [ ] 返却予定日が近い資産はハイライト表示される

**ストーリーポイント**: 3

**優先度**: Medium

**依存関係**: US-001

---

### エピック E-002: 資産検索・閲覧

#### US-010: 資産のキーワード検索

**ストーリー**:
従業員として、キーワードで資産を素早く検索したい、なぜなら必要な備品をすぐに見つけたいから

**受け入れ基準**:
- [ ] 資産名、型番、メーカー、資産番号で検索できる
- [ ] 検索結果が1秒以内に表示される
- [ ] 検索結果に資産画像、名称、型番、貸出状況が表示される
- [ ] ヒット件数が表示される
- [ ] 検索結果がない場合、適切なメッセージが表示される

**ストーリーポイント**: 5

**優先度**: High

**依存関係**: US-001

---

#### US-011: カテゴリーでの絞り込み

**ストーリー**:
従業員として、カテゴリーごとに資産を閲覧したい、なぜなら何が利用可能か一目で把握したいから

**受け入れ基準**:
- [ ] カテゴリー一覧が表示される（PC、モニター、家具等）
- [ ] 各カテゴリーの在庫数が表示される
- [ ] カテゴリーを選択すると該当資産が表示される
- [ ] サブカテゴリーがある場合は階層的に表示される
- [ ] 貸出可能な資産数が強調表示される

**ストーリーポイント**: 3

**優先度**: Medium

**依存関係**: US-010

---

#### US-012: 資産詳細の確認

**ストーリー**:
従業員として、資産の詳細情報を確認したい、なぜなら借りる前に仕様や状態を知りたいから

**受け入れ基準**:
- [ ] 資産の基本情報（名称、型番、メーカー、シリアル番号）が表示される
- [ ] 保管場所と管理責任者が表示される
- [ ] 貸出状況（貸出中/利用可能）が明確に表示される
- [ ] 貸出中の場合、返却予定日が表示される
- [ ] 過去の貸出履歴が表示される
- [ ] 利用可能な場合、「貸出申請」ボタンが表示される

**ストーリーポイント**: 5

**優先度**: High

**依存関係**: US-010

---

### エピック E-003: 貸出・返却プロセス

#### US-020: 貸出申請

**ストーリー**:
従業員として、必要な資産の貸出を申請したい、なぜなら業務で使用する備品を借りたいから

**受け入れ基準**:
- [ ] 資産詳細ページから貸出申請ができる
- [ ] 貸出期間（開始日、返却予定日）を指定できる
- [ ] 利用目的と申請理由を入力できる
- [ ] 最大貸出期間（180日）を超えるとエラーが表示される
- [ ] 申請完了時に承認者へメール通知される
- [ ] 申請後、マイページで申請状況を確認できる

**ストーリーポイント**: 5

**優先度**: High

**依存関係**: US-012

---

#### US-021: 申請の承認・却下

**ストーリー**:
承認者として、部下の貸出申請を承認または却下したい、なぜなら適切な資産利用を管理したいから

**受け入れ基準**:
- [ ] ダッシュボードに承認待ち件数が表示される
- [ ] 承認待ち申請一覧が表示される
- [ ] 申請詳細（申請者、資産、期間、理由）を確認できる
- [ ] 承認または却下を選択できる
- [ ] 却下時は却下理由の入力が必須
- [ ] 承認・却下後、申請者にメール通知される

**ストーリーポイント**: 5

**優先度**: High

**依存関係**: US-020

---

#### US-022: 資産の返却

**ストーリー**:
従業員として、借りている資産を返却したい、なぜなら使用が終わったので返したいから

**受け入れ基準**:
- [ ] マイページで借りている資産一覧が表示される
- [ ] 各資産に「返却する」ボタンが表示される
- [ ] 返却時に資産状態（正常/破損/紛失）を選択できる
- [ ] 破損・紛失時はコメント入力が必須
- [ ] 返却完了時に管理者へメール通知される
- [ ] 資産ステータスが「利用可能」に更新される

**ストーリーポイント**: 3

**優先度**: High

**依存関係**: US-021

---

#### US-023: 返却遅延アラート

**ストーリー**:
従業員として、返却予定日が近づいたらリマインドしてほしい、なぜなら返却忘れを防ぎたいから

**受け入れ基準**:
- [ ] 返却予定日の3日前にリマインダーメールが送信される
- [ ] 返却予定日当日にアラートメールが送信される
- [ ] 返却予定日超過後、毎日アラートメールが送信される
- [ ] マイページに返却予定日が近い資産が強調表示される
- [ ] 管理者ダッシュボードに遅延一覧が表示される

**ストーリーポイント**: 5

**優先度**: Medium

**依存関係**: US-022

---

#### US-024: 貸出履歴の確認

**ストーリー**:
従業員として、自分の過去の貸出履歴を確認したい、なぜなら以前借りた資産を再度借りたいから

**受け入れ基準**:
- [ ] マイページで貸出履歴一覧が表示される
- [ ] 貸出日、返却日、資産名、状態が表示される
- [ ] 期間を指定して絞り込みができる
- [ ] CSVでエクスポートできる
- [ ] 現在貸出中の資産はハイライト表示される

**ストーリーポイント**: 3

**優先度**: Low

**依存関係**: US-022

---

#### US-025: 承認フローのカスタマイズ

**ストーリー**:
資産管理者として、承認フローを部署ごとに設定したい、なぜなら組織構造に合わせた運用をしたいから

**受け入れ基準**:
- [ ] 部署ごとの承認者を設定できる
- [ ] 1段階承認または2段階承認を選択できる
- [ ] 代理承認者を設定できる
- [ ] 承認権限の有効期限を設定できる
- [ ] 設定変更履歴が記録される

**ストーリーポイント**: 8

**優先度**: Low

**依存関係**: US-021

---

### エピック E-004: 棚卸し管理

#### US-030: 棚卸しの開始

**ストーリー**:
資産管理者として、定期棚卸しを開始したい、なぜなら資産の実在を確認したいから

**受け入れ基準**:
- [ ] 棚卸し対象（拠点、カテゴリー）を指定できる
- [ ] 担当者を複数選択できる
- [ ] 棚卸し開始時にQRコード一覧が生成される
- [ ] 担当者にメール通知される
- [ ] 棚卸し進捗がリアルタイムで確認できる

**ストーリーポイント**: 8

**優先度**: High

**依存関係**: なし

---

#### US-031: QRコードでの実在確認

**ストーリー**:
資産管理者として、QRコードで素早く実在確認したい、なぜなら棚卸し作業を効率化したいから

**受け入れ基準**:
- [ ] スマートフォンでQRコードを読み取れる
- [ ] 読み取り時に資産情報が表示される
- [ ] 「確認済み」ボタンで実在確認できる
- [ ] 手動で資産番号を入力しても確認できる
- [ ] 確認状況がリアルタイムで更新される

**ストーリーポイント**: 8

**優先度**: Medium

**依存関係**: US-030

---

#### US-032: 棚卸し差異の対応

**ストーリー**:
資産管理者として、棚卸し差異を記録・対応したい、なぜなら所在不明資産を管理したいから

**受け入れ基準**:
- [ ] 差異一覧（所在不明、未登録発見）が表示される
- [ ] 各差異に対応方法を選択できる（調査継続、所在不明確定、廃棄済み）
- [ ] 理由・コメントを入力できる
- [ ] 未登録資産を簡易登録できる
- [ ] 対応履歴が記録される
- [ ] 棚卸し結果レポートが出力できる

**ストーリーポイント**: 5

**優先度**: High

**依存関係**: US-030

---

### エピック E-005: レポート・分析

#### US-040: ダッシュボードの表示

**ストーリー**:
資産管理者として、資産管理の概要を一目で把握したい、なぜなら現状を素早く理解したいから

**受け入れ基準**:
- [ ] 総資産数、貸出中数、利用可能数が表示される
- [ ] カテゴリー別資産分布が円グラフで表示される
- [ ] 拠点別資産分布が棒グラフで表示される
- [ ] 貸出中資産トップ10が表示される
- [ ] 返却遅延資産アラートが表示される
- [ ] 承認待ち申請数が表示される（承認者のみ）

**ストーリーポイント**: 8

**優先度**: Medium

**依存関係**: US-001

---

#### US-041: 資産台帳の出力

**ストーリー**:
資産管理者として、資産台帳をExcelで出力したい、なぜなら監査や経理部門への報告に使用したいから

**受け入れ基準**:
- [ ] 全資産の一覧をExcel/CSV/PDFで出力できる
- [ ] フィルタ条件（カテゴリー、拠点、貸出状況）を指定できる
- [ ] 出力項目を選択できる
- [ ] 月次で自動出力するスケジュールを設定できる
- [ ] ダウンロードリンクがメールで送信される

**ストーリーポイント**: 5

**優先度**: High

**依存関係**: なし

---

#### US-042: 利用状況レポート

**ストーリー**:
資産管理者として、資産の利用状況を分析したい、なぜなら購入・廃棄の判断に活用したいから

**受け入れ基準**:
- [ ] 期間を指定できる（月次、四半期、年次）
- [ ] カテゴリー別利用率が表示される
- [ ] 資産別利用率（稼働率）が表示される
- [ ] 部署別利用状況が表示される
- [ ] 低稼働資産（稼働率30%以下）が抽出される
- [ ] グラフ表示（棒グラフ、折れ線グラフ）できる

**ストーリーポイント**: 8

**優先度**: Medium

**依存関係**: US-024

---

### エピック E-006: 管理機能

#### US-100: 資産の登録

**ストーリー**:
資産管理者として、新しい資産を登録したい、なぜなら管理対象を増やしたいから

**受け入れ基準**:
- [ ] 基本情報（名称、型番、メーカー、資産番号、シリアル番号）を入力できる
- [ ] 取得情報（取得日、取得価格、耐用年数）を入力できる
- [ ] 保管情報（保管場所、管理部署、管理責任者）を入力できる
- [ ] カテゴリー、サブカテゴリーを選択できる
- [ ] 資産画像を最大5枚アップロードできる
- [ ] QRコードが自動生成される
- [ ] バーコードスキャナーでシリアル番号を読み取れる

**ストーリーポイント**: 5

**優先度**: High

**依存関係**: US-001

---

#### US-101: 資産のCSV一括登録

**ストーリー**:
資産管理者として、CSVファイルで資産を一括登録したい、なぜなら大量の資産を効率的に登録したいから

**受け入れ基準**:
- [ ] CSVテンプレートをダウンロードできる
- [ ] CSVファイルをアップロードできる
- [ ] アップロード前にバリデーションが実行される
- [ ] エラー行が赤くハイライト表示される
- [ ] プレビューで登録内容を確認できる
- [ ] 一括登録の実行後、結果（成功X件、失敗Y件）が表示される
- [ ] エラー詳細CSVをダウンロードできる

**ストーリーポイント**: 8

**優先度**: Medium

**依存関係**: US-100

---

#### US-102: 資産情報の更新

**ストーリー**:
資産管理者として、資産情報を更新したい、なぜなら最新の状態を維持したいから

**受け入れ基準**:
- [ ] 資産を検索・選択できる
- [ ] 各項目を編集できる
- [ ] 更新履歴が記録される（誰が、いつ、何を変更したか）
- [ ] 更新理由を入力できる（任意）
- [ ] 変更前後の差分が確認できる

**ストーリーポイント**: 3

**優先度**: Medium

**依存関係**: US-100

---

#### US-103: 資産の廃棄処理

**ストーリー**:
資産管理者として、不要な資産を廃棄処理したい、なぜなら管理対象を整理したいから

**受け入れ基準**:
- [ ] 廃棄対象資産を選択できる
- [ ] 廃棄理由（故障、老朽化、不要等）を入力できる
- [ ] 高額資産（10万円以上）は承認ワークフローが必要
- [ ] 廃棄日を記録できる
- [ ] 資産ステータスが「廃棄済み」に更新される
- [ ] 廃棄証明書をPDFで発行できる

**ストーリーポイント**: 5

**優先度**: Medium

**依存関係**: US-100

---

#### US-104: ユーザー権限管理

**ストーリー**:
システム管理者として、ユーザーの権限を管理したい、なぜなら適切なアクセス制御を行いたいから

**受け入れ基準**:
- [ ] ユーザー一覧を検索・表示できる
- [ ] 権限レベル（一般ユーザー、承認者、資産管理者、システム管理者）を設定できる
- [ ] 権限を有効化・無効化できる
- [ ] 特定資産へのアクセス制限を設定できる
- [ ] 権限変更履歴が記録される

**ストーリーポイント**: 5

**優先度**: Medium

**依存関係**: US-001

---

#### US-105: システム通知設定

**ストーリー**:
従業員として、受け取る通知を選択したい、なぜなら必要な通知だけを受け取りたいから

**受け入れ基準**:
- [ ] 通知設定画面にアクセスできる
- [ ] 各種通知のON/OFFを切り替えられる
  - 申請承認・却下通知
  - 返却予定日リマインダー
  - 返却遅延アラート
  - 棚卸し開始通知
- [ ] メール通知とシステム内通知を個別に設定できる
- [ ] 設定変更が即座に反映される

**ストーリーポイント**: 3

**優先度**: Low

**依存関係**: US-001

---

## ストーリーマッピング

### リリース1（MVP - 最小実用製品）
**目標**: 基本的な貸出・返却プロセスを実現

- US-001: 社内SSO連携ログイン
- US-003: プロフィール確認
- US-010: 資産のキーワード検索
- US-012: 資産詳細の確認
- US-020: 貸出申請
- US-021: 申請の承認・却下
- US-022: 資産の返却
- US-100: 資産の登録
- US-102: 資産情報の更新

**リリース1のストーリーポイント合計**: 45

---

### リリース2（機能拡張）
**目標**: 棚卸し機能と効率化

- US-002: 権限の自動付与
- US-011: カテゴリーでの絞り込み
- US-023: 返却遅延アラート
- US-024: 貸出履歴の確認
- US-030: 棚卸しの開始
- US-032: 棚卸し差異の対応
- US-040: ダッシュボードの表示
- US-041: 資産台帳の出力
- US-101: 資産のCSV一括登録
- US-103: 資産の廃棄処理

**リリース2のストーリーポイント合計**: 58

---

### リリース3（高度な機能）
**目標**: 分析機能とモバイル対応

- US-025: 承認フローのカスタマイズ
- US-031: QRコードでの実在確認
- US-042: 利用状況レポート
- US-104: ユーザー権限管理
- US-105: システム通知設定

**リリース3のストーリーポイント合計**: 29

---

## 関連ドキュメント

- [機能要件](functional-requirements.md) - ユーザーストーリーを実現する機能仕様
- [ユースケース](use-cases.md) - より詳細なシナリオ記述
- [../03-ui-design/](../03-ui-design/) - 各ストーリーのUI設計
- [../06-tests/](../06-tests/) - 受け入れ基準を検証するテスト

